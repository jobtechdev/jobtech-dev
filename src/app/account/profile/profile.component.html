<div class="container mt-2 mb-2">



  <div class="row">
    <div class="col-md-6">



      <div *ngIf="!editProfile" class="card">
        <div class="card-header">
          Contact
          <div class="pull-right">
            <button type="button" class="btn btn-outline-secondary" (click)="doEditProfile()">
              <i class="fa fa-cog"></i>
              <span class="sr-only">Edit</span>
            </button>
          </div>
        </div>
        <div class="card-body">
          <div>Name: {{userService.user.name}}</div>
          <div>Email: {{userService.user.email}}</div>
        </div>
      </div>
      <div *ngIf="editProfile" class="card">
        <div class="card-header">
          Contact
        </div>
        <div class="card-body">

          <form class="form" role="form" method="post" [formGroup]="contactForm" (ngSubmit)="saveEditProfile()" accept-charset="UTF-8">
            <div class="form-group">
              <label class="sr-only" for="input-name">Name</label>
              <input type="name" class="form-control" formControlName="name" placeholder="Name" required id="input-name" [ngClass]="{'is-invalid':contactForm.controls.name.dirty && contactForm.controls.name.invalid}">
              <div *ngIf="contactForm.controls.name.dirty && contactForm.controls.name.invalid" class="invalid-feedback">
                Please enter your name.
              </div>
            </div>
            <div class="form-group">
              <label class="sr-only" for="input-email">Email address</label>
              <input type="email" class="form-control" formControlName="email" placeholder="Email address" required id="input-email" [ngClass]="{'is-invalid':contactForm.controls.email.dirty && contactForm.controls.email.invalid}">
              <div *ngIf="contactForm.controls.email.dirty && contactForm.controls.email.invalid" class="invalid-feedback">
                Please enter your email address.
              </div>
            </div>
            <div class="pull-right">
              <div class="form-group">
                <button type="button" class="btn btn-secondary" (click)="abortEditProfile()">Abort</button>
                <button type="submit" class="btn btn-primary" [ngClass]="{'disabled':contactForm.invalid}">Save</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card">
        <div class="card-header">
          Change Password
          <div *ngIf="!editPassword" class="pull-right">
              <button type="button" class="btn btn-outline-secondary" (click)="doChangePassword()">
                <i class="fa fa-cog"></i>
                <span class="sr-only">Edit</span>
              </button>
            </div>
        </div>
        <div *ngIf="editPassword" class="card-body">

          <form class="form" role="form" method="post" [formGroup]="passwordForm" (ngSubmit)="saveNewPassword()" accept-charset="UTF-8">

            <div class="form-group">
              <label class="sr-only" for="password">New password</label>
              <input type="text" class="form-control" formControlName="password" id="password" placeholder="Password" [ngClass]="{'is-invalid':passwordForm.controls.password.dirty && passwordForm.controls.password.invalid}">
              <div *ngIf="passwordForm.controls.password.dirty && passwordForm.controls.password.invalid" class="invalid-feedback">
                Enter a 6+ letter password
              </div>
            </div>
            <div class="form-group">
              <label class="sr-only" for="confirmPassword">Password confirm</label>
              <input type="text" class="form-control" formControlName="confirmPassword" id="confirmPassword" placeholder="Password confirm"
                [ngClass]="{'is-invalid':passwordForm.controls.confirmPassword.dirty && passwordForm.controls.confirmPassword.invalid}">
              <div *ngIf="passwordForm.controls.confirmPassword.dirty && passwordForm.controls.confirmPassword.invalid" class="invalid-feedback">
                The passwords do not match
              </div>
            </div>

            <div class="pull-right">
              <div class="form-group">
                <button type="button" class="btn btn-secondary" (click)="abortChangePassword()">Abort</button>
                <button type="submit" class="btn btn-primary" [ngClass]="{'disabled':passwordForm.invalid}">Save</button>
              </div>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>